import{d as B,a as m,r as z,E as $,b as L,o as g,c as U,e as u,f as l,w as s,u as i,g as _,s as F,h as M,a7 as v,i as h,j as D,l as P,_ as S}from"./index.1c79fb0d.js";import{E as q,a as R,b as G,c as H,j as K}from"./push.bc8c1dbe.js";import{E as O}from"./el-drawer.9103fd03.js";import"./el-overlay.296a0393.js";import{E as Q,a as d}from"./request.1698b827.js";import{e as W,a as X,d as Y,v as Z}from"./jmx.edab3dd8.js";import{E as ee}from"./index.a81dddfb.js";const ae={class:"container"},te={class:"handle-box"},le=["onClick"],oe=["onClick"],se=["textContent"],ne={class:"pagination"},ue=B({name:"baseJmx"}),re=B({...ue,setup(ie){const C=m(!1),o=z({srcName:null,testCaseId:null,page:1,size:10}),b=m([]),w=m(0),r=()=>{W(o).then(t=>{if(H(t.data.message),t.data.code!=0)return d.error(t.data.message),!1;b.value=t.data.data.list,w.value=t.data.data.total||10})};r();const k=()=>{o.page=1,r()},y=()=>{o.srcName=null,o.testCaseId=null,r()},V=t=>{o.page=t,r()},I=async(t,e)=>{if(!e){d.error("jmx\u811A\u672C\u6587\u4EF6\u4E0D\u5B58\u5728");return}(await X(t,e)).success||d.error("\u4E0B\u8F7D\u5931\u8D25, \u8BF7\u91CD\u8BD5")},N=async t=>{await ee.confirm("\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F","\u63D0\u793A",{type:"warning"});const e=await Y(t);e.data.code!=0?d.error(e.data.message):(d.success("\u5220\u9664\u6210\u529F"),await r())},x=m(""),A=async t=>{const e=await Z(t);x.value=e.data};return(t,e)=>{const c=Q,p=$,n=q,J=R,T=O,j=G,E=L("permiss");return g(),U("div",null,[u("div",ae,[u("div",te,[l(c,{modelValue:o.srcName,"onUpdate:modelValue":e[0]||(e[0]=a=>o.srcName=a),placeholder:"\u811A\u672C\u540D\u79F0",class:"handle-input mr10"},null,8,["modelValue"]),l(c,{modelValue:o.testCaseId,"onUpdate:modelValue":e[1]||(e[1]=a=>o.testCaseId=a),placeholder:"\u7528\u4F8B",class:"handle-input mr10"},null,8,["modelValue"]),l(p,{type:"primary",icon:i(F),onClick:k},{default:s(()=>e[3]||(e[3]=[_("\u641C\u7D22")])),_:1},8,["icon"]),l(p,{type:"primary",icon:i(M),onClick:y},{default:s(()=>e[4]||(e[4]=[_("\u91CD\u7F6E")])),_:1},8,["icon"])]),l(J,{data:b.value,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:s(()=>[l(n,{prop:"id",label:"\u7F16\u53F7",width:"55",align:"center"}),l(n,{prop:"srcName",label:"\u540D\u79F0",align:"center"},{default:s(a=>[u("div",{onClick:f=>I(a.row.id,a.row.dstName),style:{color:"blue",cursor:"pointer"}},v(a.row.dstName),9,le)]),_:1}),l(n,{prop:"description",label:"\u63CF\u8FF0",align:"center"}),l(n,{prop:"testCaseId",label:"\u7528\u4F8B",align:"center"},{default:s(a=>[u("span",{onClick:f=>i(K)(a.row.testCaseId),style:{cursor:"pointer",color:"blue"}},v(a.row.testCaseId),9,oe)]),_:1}),l(n,{prop:"creator",label:"\u521B\u5EFA\u4EBA",align:"center"}),l(n,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",align:"center"}),l(n,{label:"\u64CD\u4F5C",width:"200",align:"center"},{default:s(a=>[h((g(),D(p,{text:"",icon:i(F),class:"bg-blue",onClick:f=>(C.value=!0,A(a.row.id))},{default:s(()=>e[5]||(e[5]=[_(" \u9884\u89C8 ")])),_:2},1032,["icon","onClick"])),[[E,1]]),h((g(),D(p,{text:"",icon:i(P),class:"red",onClick:f=>N(a.row.id)},{default:s(()=>e[6]||(e[6]=[_(" \u5220\u9664 ")])),_:2},1032,["icon","onClick"])),[[E,1]])]),_:1})]),_:1},8,["data"]),l(T,{modelValue:C.value,"onUpdate:modelValue":e[2]||(e[2]=a=>C.value=a),title:"\u811A\u672C\u8BE6\u60C5","show-close":!0,"with-header":!0,size:"60%"},{default:s(()=>[u("pre",null,[u("div",{textContent:v(x.value)},null,8,se)])]),_:1},8,["modelValue"]),u("div",ne,[l(j,{background:"",layout:"total, prev, pager, next","current-page":o.page,"page-size":o.size,total:w.value,onCurrentChange:V},null,8,["current-page","page-size","total"])])])])}}});const ge=S(re,[["__scopeId","data-v-cfe9b132"]]);export{ge as default};
