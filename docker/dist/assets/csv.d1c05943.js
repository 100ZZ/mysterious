import{d as y,a as i,r as z,E as L,b as U,o as g,c as M,e as r,f as e,w as o,u as d,g as p,s as b,h as P,i as F,j as w,l as S,a6 as $,_ as j}from"./index.d1c56d25.js";import{E as q,a as R,b as G,c as H,d as J}from"./push.60176e2f.js";import{E as K,a as v}from"./request.207160df.js";import{E as O}from"./el-drawer.e2a6bd00.js";import"./el-overlay.1efca428.js";import{g as Q,d as W,a as X}from"./csv.05b579a3.js";const Y={class:"container"},Z={class:"handle-box"},ee=["textContent"],ae={class:"pagination"},te=y({name:"baseCsv"}),le=y({...te,setup(se){const _=i(!1),l=z({srcName:null,testCaseId:null,page:1,size:10}),f=i([]),C=i(0),u=()=>{Q(l).then(a=>{if(H(a.data.message),a.data.code!=0)return v.error(a.data.message),!1;f.value=a.data.data.list,C.value=a.data.data.total||10})};u();const D=()=>{l.page=1,u()},B=()=>{l.srcName=null,l.testCaseId=null,u()},x=a=>{l.page=a,u()},V=async a=>{await J.confirm("\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F","\u63D0\u793A",{type:"warning"});const t=await W(a);t.data.code!=0?v.error(t.data.message):(v.success("\u5220\u9664\u6210\u529F"),await u())},E=i(""),k=async a=>{const t=await X(a);E.value=t.data};return(a,t)=>{const m=K,c=L,s=q,I=R,N=O,T=G,h=U("permiss");return g(),M("div",null,[r("div",Y,[r("div",Z,[e(m,{modelValue:l.srcName,"onUpdate:modelValue":t[0]||(t[0]=n=>l.srcName=n),placeholder:"\u6570\u636E\u540D\u79F0",class:"handle-input mr10"},null,8,["modelValue"]),e(m,{modelValue:l.testCaseId,"onUpdate:modelValue":t[1]||(t[1]=n=>l.testCaseId=n),placeholder:"\u7528\u4F8BID",class:"handle-input mr10"},null,8,["modelValue"]),e(c,{type:"primary",icon:d(b),onClick:D},{default:o(()=>[p("\u641C\u7D22")]),_:1},8,["icon"]),e(c,{type:"primary",icon:d(P),onClick:B},{default:o(()=>[p("\u91CD\u7F6E")]),_:1},8,["icon"])]),e(I,{data:f.value,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:o(()=>[e(s,{prop:"id",label:"ID",width:"55",align:"center"}),e(s,{prop:"srcName",label:"\u6570\u636E\u540D\u79F0",align:"center"}),e(s,{prop:"description",label:"\u6570\u636E\u63CF\u8FF0",align:"center"}),e(s,{prop:"testCaseId",label:"\u7528\u4F8BID",align:"center"}),e(s,{prop:"creator",label:"\u521B\u5EFA\u4EBA",align:"center"}),e(s,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",align:"center"}),e(s,{prop:"modifier",label:"\u4FEE\u6539\u4EBA",align:"center"}),e(s,{prop:"modifyTime",label:"\u4FEE\u6539\u65F6\u95F4",align:"center"}),e(s,{label:"\u64CD\u4F5C",width:"120",align:"center"},{default:o(n=>[F((g(),w(c,{style:{"margin-left":"0"},text:"",icon:d(b),class:"bg-blue",onClick:A=>(_.value=!0,k(n.row.id))},{default:o(()=>[p(" \u9884\u89C8 ")]),_:2},1032,["icon","onClick"])),[[h,1]]),F((g(),w(c,{style:{"margin-left":"0"},text:"",icon:d(S),class:"red",onClick:A=>V(n.row.id)},{default:o(()=>[p(" \u5220\u9664 ")]),_:2},1032,["icon","onClick"])),[[h,1]])]),_:1})]),_:1},8,["data"]),e(N,{modelValue:_.value,"onUpdate:modelValue":t[2]||(t[2]=n=>_.value=n),title:"\u6570\u636E\u8BE6\u60C5","show-close":!0,"with-header":!0,size:"60%"},{default:o(()=>[r("pre",null,[r("div",{textContent:$(E.value)},null,8,ee)])]),_:1},8,["modelValue"]),r("div",ae,[e(T,{background:"",layout:"total, prev, pager, next","current-page":l.page,"page-size":l.size,total:C.value,onCurrentChange:x},null,8,["current-page","page-size","total"])])])])}}});const de=j(le,[["__scopeId","data-v-e677d846"]]);export{de as default};
