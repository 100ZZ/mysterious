import{d as b,r as B,a as f,E as x,b as I,o as C,c as V,e as u,f as a,w as n,u as c,g as p,s as N,h as T,a7 as j,i as A,j as z,l as J,_ as L}from"./index.b1c8b52d.js";import{E as M,a as P,b as S,c as U,j as $}from"./push.e970bb7c.js";import{E as q,a as _}from"./request.43d0ad58.js";import{g as R,d as G}from"./jar.f1631dc0.js";import{E as H}from"./index.e018127e.js";const K={class:"container"},O={class:"handle-box"},Q=["onClick"],W={class:"pagination"},X=b({name:"baseJmx"}),Y=b({...X,setup(Z){const t=B({srcName:null,testCaseId:null,page:1,size:10}),m=f([]),g=f(0),r=()=>{R(t).then(l=>{if(U(l.data.message),l.data.code!=0)return _.error(l.data.message),!1;m.value=l.data.data.list,g.value=l.data.data.total||10})};r();const F=()=>{t.page=1,r()},h=()=>{t.srcName=null,t.testCaseId=null,r()},v=l=>{t.page=l,r()},E=async l=>{await H.confirm("\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F","\u63D0\u793A",{type:"warning"});const e=await G(l);e.data.code!=0?_.error(e.data.message):(_.success("\u5220\u9664\u6210\u529F"),await r())};return(l,e)=>{const i=q,d=x,o=M,y=P,D=S,k=I("permiss");return C(),V("div",null,[u("div",K,[u("div",O,[a(i,{modelValue:t.srcName,"onUpdate:modelValue":e[0]||(e[0]=s=>t.srcName=s),placeholder:"\u4F9D\u8D56\u540D\u79F0",class:"handle-input mr10"},null,8,["modelValue"]),a(i,{modelValue:t.testCaseId,"onUpdate:modelValue":e[1]||(e[1]=s=>t.testCaseId=s),placeholder:"\u7528\u4F8B",class:"handle-input mr10"},null,8,["modelValue"]),a(d,{type:"primary",icon:c(N),onClick:F},{default:n(()=>e[2]||(e[2]=[p("\u641C\u7D22")])),_:1},8,["icon"]),a(d,{type:"primary",icon:c(T),onClick:h},{default:n(()=>e[3]||(e[3]=[p("\u91CD\u7F6E")])),_:1},8,["icon"])]),a(y,{data:m.value,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:n(()=>[a(o,{prop:"id",label:"\u7F16\u53F7",width:"55",align:"center"}),a(o,{prop:"srcName",label:"\u540D\u79F0",align:"center"}),a(o,{prop:"description",label:"\u63CF\u8FF0",align:"center"}),a(o,{prop:"testCaseId",label:"\u7528\u4F8B",align:"center"},{default:n(s=>[u("span",{onClick:w=>c($)(s.row.testCaseId),style:{cursor:"pointer",color:"blue"}},j(s.row.testCaseId),9,Q)]),_:1}),a(o,{prop:"creator",label:"\u521B\u5EFA\u4EBA",align:"center"}),a(o,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",align:"center"}),a(o,{label:"\u64CD\u4F5C",width:"120",align:"center"},{default:n(s=>[A((C(),z(d,{style:{"margin-left":"0"},text:"",icon:c(J),class:"red",onClick:w=>E(s.row.id)},{default:n(()=>e[4]||(e[4]=[p(" \u5220\u9664 ")])),_:2},1032,["icon","onClick"])),[[k,1]])]),_:1})]),_:1},8,["data"]),u("div",W,[a(D,{background:"",layout:"total, prev, pager, next","current-page":t.page,"page-size":t.size,total:g.value,onCurrentChange:v},null,8,["current-page","page-size","total"])])])])}}});const oe=L(Y,[["__scopeId","data-v-188125ff"]]);export{oe as default};
