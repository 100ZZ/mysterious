import{d as w,a as c,r as j,E as z,ba as L,b as U,o as g,c as M,e as i,f as e,w as s,u as d,g as p,s as x,h as P,i as E,j as F,l as S,a6 as $,_ as q}from"./index.5e60250a.js";import{E as R,a as G,b as H,c as K,d as O}from"./push.b5c18fc3.js";import{E as Q,a as f}from"./request.1a4c1a35.js";import{E as W}from"./el-drawer.d19eaad9.js";import"./el-overlay.665e6a00.js";import{g as X,d as Y,a as Z}from"./jmx.50b8b741.js";const ee={class:"container"},ae={class:"handle-box"},te=["textContent"],le={class:"pagination"},oe=w({name:"baseJmx"}),ne=w({...oe,setup(se){const m=c(!1),l=j({srcName:null,testCaseId:null,page:1,size:10}),C=c([]),b=c(0),u=()=>{X(l).then(a=>{if(K(a.data.message),a.data.code!=0)return f.error(a.data.message),!1;C.value=a.data.data.list,b.value=a.data.data.total||10})};u();const y=()=>{l.page=1,u()},D=()=>{l.srcName=null,l.testCaseId=null,u()},B=a=>{l.page=a,u()},V=async a=>{await O.confirm("\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F","\u63D0\u793A",{type:"warning"});const t=await Y(a);t.data.code!=0?f.error(t.data.message):(f.success("\u5220\u9664\u6210\u529F"),await u())},h=c(""),k=async a=>{const t=await Z(a);h.value=t.data};return(a,t)=>{const _=Q,r=z,o=R,A=G,I=L("xmp"),N=W,T=H,v=U("permiss");return g(),M("div",null,[i("div",ee,[i("div",ae,[e(_,{modelValue:l.srcName,"onUpdate:modelValue":t[0]||(t[0]=n=>l.srcName=n),placeholder:"\u811A\u672C\u540D\u79F0",class:"handle-input mr10"},null,8,["modelValue"]),e(_,{modelValue:l.testCaseId,"onUpdate:modelValue":t[1]||(t[1]=n=>l.testCaseId=n),placeholder:"\u7528\u4F8BID",class:"handle-input mr10"},null,8,["modelValue"]),e(r,{type:"primary",icon:d(x),onClick:y},{default:s(()=>[p("\u641C\u7D22")]),_:1},8,["icon"]),e(r,{type:"primary",icon:d(P),onClick:D},{default:s(()=>[p("\u91CD\u7F6E")]),_:1},8,["icon"])]),e(A,{data:C.value,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:s(()=>[e(o,{prop:"id",label:"ID",width:"55",align:"center"}),e(o,{prop:"srcName",label:"\u811A\u672C\u540D\u79F0",align:"center"}),e(o,{prop:"description",label:"\u811A\u672C\u63CF\u8FF0",align:"center"}),e(o,{prop:"testCaseId",label:"\u7528\u4F8BID",align:"center"}),e(o,{prop:"creator",label:"\u521B\u5EFA\u4EBA",align:"center"}),e(o,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",align:"center"}),e(o,{prop:"modifier",label:"\u4FEE\u6539\u4EBA",align:"center"}),e(o,{prop:"modifyTime",label:"\u4FEE\u6539\u65F6\u95F4",align:"center"}),e(o,{label:"\u64CD\u4F5C",width:"120",align:"center"},{default:s(n=>[E((g(),F(r,{style:{"margin-left":"0"},text:"",icon:d(x),class:"bg-blue",onClick:J=>(m.value=!0,k(n.row.id))},{default:s(()=>[p(" \u9884\u89C8 ")]),_:2},1032,["icon","onClick"])),[[v,1]]),E((g(),F(r,{style:{"margin-left":"0"},text:"",icon:d(S),class:"red",onClick:J=>V(n.row.id)},{default:s(()=>[p(" \u5220\u9664 ")]),_:2},1032,["icon","onClick"])),[[v,1]])]),_:1})]),_:1},8,["data"]),e(N,{modelValue:m.value,"onUpdate:modelValue":t[2]||(t[2]=n=>m.value=n),title:"\u811A\u672C\u8BE6\u60C5","show-close":!0,"with-header":!0,size:"60%"},{default:s(()=>[e(I,null,{default:s(()=>[i("div",{textContent:$(h.value)},null,8,te)]),_:1})]),_:1},8,["modelValue"]),i("div",le,[e(T,{background:"",layout:"total, prev, pager, next","current-page":l.page,"page-size":l.size,total:b.value,onCurrentChange:B},null,8,["current-page","page-size","total"])])])])}}});const me=q(ne,[["__scopeId","data-v-58b1f8d8"]]);export{me as default};
