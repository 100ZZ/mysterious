import{d as B,a as m,r as z,E as L,b as U,o as g,c as $,e as u,f as t,w as s,u as p,g as _,s as E,h as M,a7 as F,i as h,j as D,l as P,_ as S}from"./index.b600d1ed.js";import{E as q,a as R,b as G,c as H}from"./push.b6be573c.js";import{E as K}from"./el-drawer.24cf8def.js";import"./el-overlay.434afa62.js";import{E as O,a as i}from"./request.817e3c98.js";import{e as Q,a as W,d as X,v as Y}from"./jmx.5b6d4b52.js";import{E as Z}from"./index.6d4992f4.js";const ee={class:"container"},ae={class:"handle-box"},te=["onClick"],le=["textContent"],oe={class:"pagination"},se=B({name:"baseJmx"}),ne=B({...se,setup(ue){const f=m(!1),o=z({srcName:null,testCaseId:null,page:1,size:10}),C=m([]),v=m(0),r=()=>{Q(o).then(a=>{if(H(a.data.message),a.data.code!=0)return i.error(a.data.message),!1;C.value=a.data.data.list,v.value=a.data.data.total||10})};r();const y=()=>{o.page=1,r()},k=()=>{o.srcName=null,o.testCaseId=null,r()},V=a=>{o.page=a,r()},N=async(a,e)=>{if(!e){i.error("jmx\u811A\u672C\u6587\u4EF6\u4E0D\u5B58\u5728");return}(await W(a,e)).success||i.error("\u4E0B\u8F7D\u5931\u8D25, \u8BF7\u91CD\u8BD5")},A=async a=>{await Z.confirm("\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F","\u63D0\u793A",{type:"warning"});const e=await X(a);e.data.code!=0?i.error(e.data.message):(i.success("\u5220\u9664\u6210\u529F"),await r())},w=m(""),J=async a=>{const e=await Y(a);w.value=e.data};return(a,e)=>{const d=O,c=L,n=q,I=R,T=K,j=G,x=U("permiss");return g(),$("div",null,[u("div",ee,[u("div",ae,[t(d,{modelValue:o.srcName,"onUpdate:modelValue":e[0]||(e[0]=l=>o.srcName=l),placeholder:"\u811A\u672C\u540D\u79F0",class:"handle-input mr10"},null,8,["modelValue"]),t(d,{modelValue:o.testCaseId,"onUpdate:modelValue":e[1]||(e[1]=l=>o.testCaseId=l),placeholder:"\u7528\u4F8B",class:"handle-input mr10"},null,8,["modelValue"]),t(c,{type:"primary",icon:p(E),onClick:y},{default:s(()=>e[3]||(e[3]=[_("\u641C\u7D22")])),_:1},8,["icon"]),t(c,{type:"primary",icon:p(M),onClick:k},{default:s(()=>e[4]||(e[4]=[_("\u91CD\u7F6E")])),_:1},8,["icon"])]),t(I,{data:C.value,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:s(()=>[t(n,{prop:"id",label:"\u7F16\u53F7",width:"55",align:"center"}),t(n,{prop:"srcName",label:"\u540D\u79F0",align:"center"},{default:s(l=>[u("div",{onClick:b=>N(l.row.id,l.row.dstName),style:{color:"blue",cursor:"pointer"}},F(l.row.dstName),9,te)]),_:1}),t(n,{prop:"description",label:"\u63CF\u8FF0",align:"center"}),t(n,{prop:"testCaseId",label:"\u7528\u4F8B",align:"center"}),t(n,{prop:"creator",label:"\u521B\u5EFA\u4EBA",align:"center"}),t(n,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",align:"center"}),t(n,{label:"\u64CD\u4F5C",width:"200",align:"center"},{default:s(l=>[h((g(),D(c,{text:"",icon:p(E),class:"bg-blue",onClick:b=>(f.value=!0,J(l.row.id))},{default:s(()=>e[5]||(e[5]=[_(" \u9884\u89C8 ")])),_:2},1032,["icon","onClick"])),[[x,1]]),h((g(),D(c,{text:"",icon:p(P),class:"red",onClick:b=>A(l.row.id)},{default:s(()=>e[6]||(e[6]=[_(" \u5220\u9664 ")])),_:2},1032,["icon","onClick"])),[[x,1]])]),_:1})]),_:1},8,["data"]),t(T,{modelValue:f.value,"onUpdate:modelValue":e[2]||(e[2]=l=>f.value=l),title:"\u811A\u672C\u8BE6\u60C5","show-close":!0,"with-header":!0,size:"60%"},{default:s(()=>[u("pre",null,[u("div",{textContent:F(w.value)},null,8,le)])]),_:1},8,["modelValue"]),u("div",oe,[t(j,{background:"",layout:"total, prev, pager, next","current-page":o.page,"page-size":o.size,total:v.value,onCurrentChange:V},null,8,["current-page","page-size","total"])])])])}}});const fe=S(ne,[["__scopeId","data-v-f86af6ee"]]);export{fe as default};
