import{d as h,a as d,r as J,E as j,b as z,o as g,c as L,e as r,f as a,w as s,u as c,g as p,s as E,h as U,i as x,j as w,l as M,a7 as P,_ as S}from"./index.ad753b5c.js";import{E as $,a as q,b as R,c as G}from"./push.6acebb91.js";import{E as H}from"./el-drawer.b0263417.js";import"./el-overlay.457e9f73.js";import{E as K,a as f}from"./request.603ce6a8.js";import{e as O,d as Q,a as W}from"./jmx.5d43e72a.js";import{E as X}from"./index.c8747680.js";const Y={class:"container"},Z={class:"handle-box"},ee=["textContent"],ae={class:"pagination"},te=h({name:"baseJmx"}),le=h({...te,setup(oe){const m=d(!1),l=J({srcName:null,testCaseId:null,page:1,size:10}),C=d([]),b=d(0),u=()=>{O(l).then(t=>{if(G(t.data.message),t.data.code!=0)return f.error(t.data.message),!1;C.value=t.data.data.list,b.value=t.data.data.total||10})};u();const B=()=>{l.page=1,u()},y=()=>{l.srcName=null,l.testCaseId=null,u()},V=t=>{l.page=t,u()},D=async t=>{await X.confirm("\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F","\u63D0\u793A",{type:"warning"});const e=await Q(t);e.data.code!=0?f.error(e.data.message):(f.success("\u5220\u9664\u6210\u529F"),await u())},F=d(""),k=async t=>{const e=await W(t);F.value=e.data};return(t,e)=>{const _=K,i=j,o=$,A=q,N=H,I=R,v=z("permiss");return g(),L("div",null,[r("div",Y,[r("div",Z,[a(_,{modelValue:l.srcName,"onUpdate:modelValue":e[0]||(e[0]=n=>l.srcName=n),placeholder:"\u811A\u672C\u540D\u79F0",class:"handle-input mr10"},null,8,["modelValue"]),a(_,{modelValue:l.testCaseId,"onUpdate:modelValue":e[1]||(e[1]=n=>l.testCaseId=n),placeholder:"\u7528\u4F8B\u7F16\u53F7",class:"handle-input mr10"},null,8,["modelValue"]),a(i,{type:"primary",icon:c(E),onClick:B},{default:s(()=>e[3]||(e[3]=[p("\u641C\u7D22")])),_:1},8,["icon"]),a(i,{type:"primary",icon:c(U),onClick:y},{default:s(()=>e[4]||(e[4]=[p("\u91CD\u7F6E")])),_:1},8,["icon"])]),a(A,{data:C.value,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:s(()=>[a(o,{prop:"id",label:"\u7F16\u53F7",width:"55",align:"center"}),a(o,{prop:"srcName",label:"\u811A\u672C\u540D\u79F0",align:"center"}),a(o,{prop:"description",label:"\u811A\u672C\u63CF\u8FF0",align:"center"}),a(o,{prop:"testCaseId",label:"\u7528\u4F8B\u7F16\u53F7",align:"center"}),a(o,{prop:"creator",label:"\u521B\u5EFA\u4EBA",align:"center"}),a(o,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",align:"center"}),a(o,{prop:"modifier",label:"\u4FEE\u6539\u4EBA",align:"center"}),a(o,{prop:"modifyTime",label:"\u4FEE\u6539\u65F6\u95F4",align:"center"}),a(o,{label:"\u64CD\u4F5C",width:"200",align:"center"},{default:s(n=>[x((g(),w(i,{text:"",icon:c(E),class:"bg-blue",onClick:T=>(m.value=!0,k(n.row.id))},{default:s(()=>e[5]||(e[5]=[p(" \u9884\u89C8 ")])),_:2},1032,["icon","onClick"])),[[v,1]]),x((g(),w(i,{text:"",icon:c(M),class:"red",onClick:T=>D(n.row.id)},{default:s(()=>e[6]||(e[6]=[p(" \u5220\u9664 ")])),_:2},1032,["icon","onClick"])),[[v,1]])]),_:1})]),_:1},8,["data"]),a(N,{modelValue:m.value,"onUpdate:modelValue":e[2]||(e[2]=n=>m.value=n),title:"\u811A\u672C\u8BE6\u60C5","show-close":!0,"with-header":!0,size:"60%"},{default:s(()=>[r("pre",null,[r("div",{textContent:P(F.value)},null,8,ee)])]),_:1},8,["modelValue"]),r("div",ae,[a(I,{background:"",layout:"total, prev, pager, next","current-page":l.page,"page-size":l.size,total:b.value,onCurrentChange:V},null,8,["current-page","page-size","total"])])])])}}});const pe=S(le,[["__scopeId","data-v-7bea6b86"]]);export{pe as default};
