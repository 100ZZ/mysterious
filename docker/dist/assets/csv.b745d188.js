import{d as y,a as p,r as U,E as $,b as M,o as g,c as P,e as u,f as a,w as n,u as m,g as _,s as w,h as S,a7 as h,i as B,j as D,l as j,_ as q}from"./index.36c5b9a2.js";import{E as R,a as G,b as H,c as J}from"./push.0e77b4dc.js";import{E as K}from"./el-drawer.2fb538ac.js";import"./el-overlay.d451247c.js";import{E as O,a as i}from"./request.0cc57fb9.js";import{g as Q,d as W,a as X,v as Y}from"./csv.920c06ac.js";import{E as Z}from"./index.724b1f84.js";const ee={class:"container"},ae={class:"handle-box"},te=["onClick"],le=["textContent"],se={class:"pagination"},oe=y({name:"baseCsv"}),ne=y({...oe,setup(ue){const v=p(!1),s=U({srcName:null,testCaseId:null,page:1,size:10}),f=p([]),C=p(0),r=()=>{Q(s).then(t=>{if(J(t.data.message),t.data.code!=0)return i.error(t.data.message),!1;f.value=t.data.data.list,C.value=t.data.data.total||10})};r();const k=()=>{s.page=1,r()},x=()=>{s.srcName=null,s.testCaseId=null,r()},V=t=>{s.page=t,r()},N=async t=>{await Z.confirm("\u786E\u5B9A\u8981\u5220\u9664\u5417\uFF1F","\u63D0\u793A",{type:"warning"});const e=await W(t);e.data.code!=0?i.error(e.data.message):(i.success("\u5220\u9664\u6210\u529F"),await r())},I=async(t,e)=>{if(!e){i.error("csv\u6570\u636E\u6587\u4EF6\u4E0D\u5B58\u5728");return}(await X(t,e)).success||i.error("\u4E0B\u8F7D\u5931\u8D25, \u8BF7\u91CD\u8BD5")},E=p(""),T=async t=>{const e=await Y(t);E.value=e.data};return(t,e)=>{const d=O,c=$,o=R,A=G,z=K,L=H,F=M("permiss");return g(),P("div",null,[u("div",ee,[u("div",ae,[a(d,{modelValue:s.srcName,"onUpdate:modelValue":e[0]||(e[0]=l=>s.srcName=l),placeholder:"\u6570\u636E\u540D\u79F0",class:"handle-input mr10"},null,8,["modelValue"]),a(d,{modelValue:s.testCaseId,"onUpdate:modelValue":e[1]||(e[1]=l=>s.testCaseId=l),placeholder:"\u7528\u4F8B\u7F16\u53F7",class:"handle-input mr10"},null,8,["modelValue"]),a(c,{type:"primary",icon:m(w),onClick:k},{default:n(()=>e[3]||(e[3]=[_("\u641C\u7D22")])),_:1},8,["icon"]),a(c,{type:"primary",icon:m(S),onClick:x},{default:n(()=>e[4]||(e[4]=[_("\u91CD\u7F6E")])),_:1},8,["icon"])]),a(A,{data:f.value,border:"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header"},{default:n(()=>[a(o,{prop:"id",label:"\u7F16\u53F7",width:"55",align:"center"}),a(o,{prop:"srcName",label:"\u6587\u4EF6\u540D\u79F0",align:"center"},{default:n(l=>[u("div",{onClick:b=>I(l.row.id,l.row.dstName),style:{color:"blue",cursor:"pointer"}},h(l.row.dstName),9,te)]),_:1}),a(o,{prop:"description",label:"\u6587\u4EF6\u63CF\u8FF0",align:"center"}),a(o,{prop:"testCaseId",label:"\u7528\u4F8B\u7F16\u53F7",align:"center"}),a(o,{prop:"creator",label:"\u521B\u5EFA\u4EBA",align:"center"}),a(o,{prop:"createTime",label:"\u521B\u5EFA\u65F6\u95F4",align:"center"}),a(o,{prop:"modifier",label:"\u4FEE\u6539\u4EBA",align:"center"}),a(o,{prop:"modifyTime",label:"\u4FEE\u6539\u65F6\u95F4",align:"center"}),a(o,{label:"\u64CD\u4F5C",width:"200",align:"center"},{default:n(l=>[B((g(),D(c,{text:"",icon:m(w),class:"bg-blue",onClick:b=>(v.value=!0,T(l.row.id))},{default:n(()=>e[5]||(e[5]=[_(" \u9884\u89C8 ")])),_:2},1032,["icon","onClick"])),[[F,1]]),B((g(),D(c,{text:"",icon:m(j),class:"red",onClick:b=>N(l.row.id)},{default:n(()=>e[6]||(e[6]=[_(" \u5220\u9664 ")])),_:2},1032,["icon","onClick"])),[[F,1]])]),_:1})]),_:1},8,["data"]),a(z,{modelValue:v.value,"onUpdate:modelValue":e[2]||(e[2]=l=>v.value=l),title:"\u6570\u636E\u8BE6\u60C5","show-close":!0,"with-header":!0,size:"60%"},{default:n(()=>[u("pre",null,[u("div",{textContent:h(E.value)},null,8,le)])]),_:1},8,["modelValue"]),u("div",se,[a(L,{background:"",layout:"total, prev, pager, next","current-page":s.page,"page-size":s.size,total:C.value,onCurrentChange:V},null,8,["current-page","page-size","total"])])])])}}});const ve=q(ne,[["__scopeId","data-v-f72ba006"]]);export{ve as default};
